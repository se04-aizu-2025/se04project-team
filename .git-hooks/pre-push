#!/bin/bash
# Pre-push hook: ãƒ—ãƒƒã‚·ãƒ¥å‰ã«ãƒ†ã‚¹ãƒˆã¨ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œ

echo "ğŸš€ Running pre-push checks..."

# ktlintãƒã‚§ãƒƒã‚¯
echo "ğŸ“ Running ktlint..."
./gradlew ktlintCheck --daemon || {
    echo "âŒ ktlint check failed"
    exit 1
}

# detekt
echo "ğŸ” Running detekt..."
./gradlew detekt --daemon || {
    echo "âŒ detekt check failed"
    exit 1
}

# ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ
echo "ğŸ§ª Running tests..."
./gradlew test --daemon || {
    echo "âŒ Tests failed"
    exit 1
}

echo "âœ… All pre-push checks passed! Proceeding with push..."
exit 0
