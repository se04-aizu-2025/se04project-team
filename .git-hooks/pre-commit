#!/bin/bash
# Pre-commit hook: ã‚³ãƒŸãƒƒãƒˆå‰ã«ktlintãƒã‚§ãƒƒã‚¯ã®ã¿å®Ÿè¡Œ

echo "ğŸ” Running code quality checks..."
echo ""

# æ³¨æ„: ktlintFormatã¯ç”Ÿæˆãƒ•ã‚¡ã‚¤ãƒ«ã®å•é¡Œã§ã‚¹ã‚­ãƒƒãƒ—
# ãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯æ‰‹å‹•ã§ ./gradlew ktlintFormat ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„

# ktlintãƒã‚§ãƒƒã‚¯ã®ã¿ï¼ˆã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ï¼‰
echo "ï¿½ Running ktlint check (source files only)..."
./gradlew ktlintMainSourceSetCheck ktlintTestSourceSetCheck --continue 2>/dev/null || true
KTLINT_RESULT=$?

# detektã¯CIã§ã®ã¿å®Ÿè¡Œï¼ˆãƒ­ãƒ¼ã‚«ãƒ«ã§ã¯é‡ã„ã®ã§ã‚¹ã‚­ãƒƒãƒ—ï¼‰
echo "â­ï¸  Skipping detekt (will run in CI)"
echo ""

echo "========================================="
echo "âœ… Pre-commit checks completed!"
echo ""
echo "ğŸ’¡ Tip: Run './gradlew ktlintFormat' manually to auto-format"
echo "========================================="
exit 0
