---
title: ドキュメント作成ガイドライン
version: 1.0.0
last_updated: 2026-01-13
maintainer: Team
---

# ドキュメント作成ガイドライン

このドキュメントは、DNSortプロジェクトのドキュメント作成・管理の規約を定義します。

---

## 目次

1. [原則](#原則)
2. [ドキュメント構造](#ドキュメント構造)
3. [ヘッダーフォーマット](#ヘッダーフォーマット)
4. [タスクガイド作成手順](#タスクガイド作成手順)
5. [リファレンス作成手順](#リファレンス作成手順)
6. [チェックリスト](#チェックリスト)

---

## 原則

### 1. Single Source of Truth (SSOT)

> [!IMPORTANT]
> **同じ情報を複数箇所に書かない。** 1つの正規ソースを定め、他は参照リンクを使用する。

| 情報の種類 | 正規ソース | 他からの参照方法 |
|-----------|-----------|-----------------|
| 命名規則 | `guide/reference/NAMING_CONVENTIONS.md` | `詳細は [命名規則](./reference/NAMING_CONVENTIONS.md) を参照` |
| テスト規約 | `guide/reference/TESTING.md` | リンクで参照 |
| アーキテクチャ | `ARCHITECTURE.md` | リンクで参照 |

### 2. 対象読者の明確化

ドキュメントを書く前に「誰が読むか」を明確にする。

| 対象読者 | 特徴 | 例 |
|---------|------|-----|
| **新規参加者** | プロジェクト初見 | `ONBOARDING.md` |
| **日常開発者** | タスク実行時に参照 | `tasks/*.md` |
| **詳細調査者** | 深い理解が必要な時 | `reference/*.md` |
| **エンドユーザー** | 開発者でない利用者 | `USER_GUIDE.md` |

### 3. 更新ルール

- **変更時は必ずヘッダーの `last_updated` を更新**
- 大きな変更時は `version` を上げる（セマンティックバージョニング）
- 破壊的変更がある場合はドキュメント冒頭に注記

---

## ドキュメント構造

```
doc/
├── README.md                    # ドキュメント全体のインデックス
├── DOCUMENTATION_GUIDELINES.md  # このファイル（メタドキュメント）
│
├── [要件・計画]
│   ├── REQUEST_DEFINITION.md    # 元の課題文
│   ├── REQUIREMENTS_DEFINITION.md # 要件定義
│   └── DEVELOPMENT_PLAN.md      # 開発計画（PR一覧）
│
├── [設計・アーキテクチャ]
│   ├── ARCHITECTURE.md          # システムアーキテクチャ
│   └── DESIGN_SYSTEM.md         # UIデザインシステム
│
├── [開発ガイドライン]
│   ├── CODING_GUIDELINES.md     # コーディング規約概要
│   ├── TESTING_GUIDELINES.md    # テスト規約
│   ├── BRANCH_STRATEGY.md       # ブランチ戦略
│   ├── PULL_REQUEST.md          # PR作成ガイド
│   └── CI_CD.md                 # CI/CDパイプライン
│
├── [ユーザー向け]
│   ├── GETTING_STARTED.md       # 環境セットアップ
│   └── USER_GUIDE.md            # エンドユーザーガイド
│
└── guide/                       # ベストプラクティスガイド
    ├── README.md                # ガイド全体のインデックス
    ├── ONBOARDING.md            # 新規参加者向け
    ├── FUNDAMENTALS.md          # 基礎ルール（サマリー）
    │
    ├── tasks/                   # タスク別ガイド
    │   ├── README.md            # タスクガイドのインデックス
    │   ├── ADD_SCREEN.md
    │   └── ...
    │
    └── reference/               # 詳細リファレンス
        ├── README.md            # リファレンスのインデックス
        ├── NAMING_CONVENTIONS.md
        └── ...
```

---

## ヘッダーフォーマット

すべての主要ドキュメントには以下のYAML frontmatterを含める：

```yaml
---
title: ドキュメントのタイトル
version: 1.0.0
last_updated: YYYY-MM-DD
maintainer: Team
---
```

| フィールド | 説明 | 例 |
|-----------|------|-----|
| `title` | 日本語でのドキュメント名 | `コーディングガイドライン` |
| `version` | セマンティックバージョン | `1.2.0` |
| `last_updated` | 最終更新日（ISO 8601） | `2026-01-13` |
| `maintainer` | 責任者/チーム | `Team`, `@username` |

---

## タスクガイド作成手順

### いつ作成するか

- 繰り返し行われる開発タスクがある
- 手順が複雑で毎回調べ直している
- チームメンバーが同じ質問をする

### ファイル命名

```
tasks/ADD_{対象}.md     # 追加タスク
tasks/MODIFY_{対象}.md  # 変更タスク
tasks/{動詞}_{対象}.md  # その他
```

### テンプレート

```markdown
---
title: {タスク名}
version: 1.0.0
last_updated: YYYY-MM-DD
maintainer: Team
---

# {タスク名}

{このガイドの概要を1-2行で}

---

## 前提条件

- [ ] 必要な事前知識/設定

---

## 手順

### 1. {ステップ1}

{説明}

```kotlin
// コード例
```

### 2. {ステップ2}

...

---

## チェックリスト

- [ ] {確認項目1}
- [ ] {確認項目2}

---

## 関連ドキュメント

- [関連ガイド1](./RELATED.md)
```

### 登録手順

1. `tasks/` にファイルを作成
2. `guide/README.md` のタスク一覧に追加
3. `tasks/README.md` に追加

---

## リファレンス作成手順

### いつ作成するか

- 特定トピックの詳細な仕様が必要
- タスクガイドから参照される詳細情報
- 公式ドキュメントを補完する内部規約

### ファイル命名

```
reference/{トピック名}.md    # 大文字スネークケース
```

### テンプレート

```markdown
---
title: {トピック名}
version: 1.0.0
last_updated: YYYY-MM-DD
maintainer: Team
---

# {トピック名}

{このリファレンスの目的を1-2行で}

---

## 概要

{トピックの概要説明}

---

## 詳細

### セクション1

{詳細説明}

### セクション2

...

---

## 関連リンク

| トピック | リンク |
|---------|--------|
| 公式ドキュメント | [URL](https://...) |
```

---

## チェックリスト

### 新規ドキュメント作成時

- [ ] ヘッダー（frontmatter）を含めた
- [ ] 対象読者を明確にした
- [ ] 目次を含めた（長いドキュメントの場合）
- [ ] 関連ドキュメントへのリンクを追加した
- [ ] 適切なREADME.mdにインデックスを追加した
- [ ] 既存ドキュメントとの重複がないか確認した

### ドキュメント更新時

- [ ] `last_updated` を更新した
- [ ] 重大な変更は `version` を上げた
- [ ] 関連ドキュメントの整合性を確認した

### Single Source of Truth確認

- [ ] この情報は他のドキュメントに既に存在しないか？
- [ ] 存在する場合、どちらを正規ソースにするか決めたか？
- [ ] 正規ソース以外は参照リンクに変更したか？

---

## 禁止事項

| 禁止 | 理由 | 代替 |
|------|------|------|
| 同じ情報を複数箇所に書く | メンテナンス困難 | SSOTを確立しリンク参照 |
| ヘッダーなしでドキュメント作成 | バージョン管理困難 | 必ずfrontmatterを含める |
| README.mdへの登録を忘れる | 発見されない | 作成後すぐに登録 |
| 対象読者を考えずに書く | 読まれない | 冒頭で対象を明記 |
